<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <PropertyGroup>
    <Configuration Condition=" '$(Configuration)' == '' ">Debug</Configuration>
    <Platform Condition=" '$(Platform)' == '' ">AnyCPU</Platform>
    <ProductVersion>8.0.30703</ProductVersion>
    <SchemaVersion>2.0</SchemaVersion>
    <ProjectGuid>{3BC0AC7E-3B3B-4D3F-9CC0-B2BDECC460A6}</ProjectGuid>
    <ProjectTypeGuids>{EFBA0AD7-5A72-4C68-AF49-83D382785DCF};{FAE04EC0-301F-11D3-BF4B-00C04F79EFBC}</ProjectTypeGuids>
    <TemplateGuid>{84dd83c5-0fe3-4294-9419-09e7c8ba324f}</TemplateGuid>
    <OutputType>Library</OutputType>
    <AppDesignerFolder>Properties</AppDesignerFolder>
    <RootNamespace>AnylineExamples.Droid</RootNamespace>
    <AssemblyName>AnylineExamples.Droid</AssemblyName>
    <FileAlignment>512</FileAlignment>
    <AndroidApplication>True</AndroidApplication>
    <AndroidResgenFile>Resources\Resource.designer.cs</AndroidResgenFile>
    <AndroidResgenClass>Resource</AndroidResgenClass>
    <GenerateSerializationAssemblies>Off</GenerateSerializationAssemblies>
    <TargetFrameworkVersion>v12.0</TargetFrameworkVersion>
    <AndroidManifest>Properties\AndroidManifest.xml</AndroidManifest>
    <MonoAndroidResourcePrefix>Resources</MonoAndroidResourcePrefix>
    <MonoAndroidAssetsPrefix>Assets</MonoAndroidAssetsPrefix>
    <AndroidHttpClientHandlerType>Xamarin.Android.Net.AndroidClientHandler</AndroidHttpClientHandlerType>
    <AndroidUseSharedRuntime>false</AndroidUseSharedRuntime>
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Debug|AnyCPU' ">
    <DebugSymbols>True</DebugSymbols>
    <DebugType>portable</DebugType>
    <Optimize>False</Optimize>
    <OutputPath>bin\Debug\</OutputPath>
    <DefineConstants>DEBUG;TRACE</DefineConstants>
    <ErrorReport>prompt</ErrorReport>
    <WarningLevel>4</WarningLevel>
    <JavaMaximumHeapSize>
    </JavaMaximumHeapSize>
    <AndroidDexTool>d8</AndroidDexTool>
    <AndroidUseAapt2>true</AndroidUseAapt2>
    <AndroidUseSharedRuntime>true</AndroidUseSharedRuntime>
    <AndroidSupportedAbis>armeabi-v7a;x86;x86_64;arm64-v8a</AndroidSupportedAbis>
    <AndroidLinkMode>None</AndroidLinkMode>
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Release|AnyCPU' ">
    <DebugType>PdbOnly</DebugType>
    <DebugSymbols>True</DebugSymbols>
    <Optimize>True</Optimize>
    <OutputPath>bin\Release\</OutputPath>
    <DefineConstants>TRACE</DefineConstants>
    <ErrorReport>prompt</ErrorReport>
    <WarningLevel>4</WarningLevel>
    <AndroidManagedSymbols>true</AndroidManagedSymbols>
    <AndroidLinkMode>SdkOnly</AndroidLinkMode>
    <EmbedAssembliesIntoApk>True</EmbedAssembliesIntoApk>
    <AndroidDexTool>d8</AndroidDexTool>
  </PropertyGroup>
  <ItemGroup>
    <Reference Include="System" />
    <Reference Include="System.Xml" />
    <Reference Include="System.Core" />
    <Reference Include="Mono.Android" />
  </ItemGroup>
  <ItemGroup>
    <Compile Include="AndroidExampleModelWrapper.cs" />
    <Compile Include="ActivityListAdapter.cs" />
    <Compile Include="MainActivity.cs" />
    <Compile Include="Resources\Resource.designer.cs" />
    <Compile Include="Properties\AssemblyInfo.cs" />
    <Compile Include="ResultActivity.cs" />
    <Compile Include="ScanActivity.cs" />
    <Compile Include="Util.cs" />
    <Compile Include="NFC\MRZScanActivity.cs" />
    <Compile Include="NFC\NFCScanActivity.cs" />
    <Compile Include="MyAnylineResultEventHandler.cs" />
    <Compile Include="ObjectExtensions.cs" />
  </ItemGroup>
  <ItemGroup>
    <None Include="Resources\AboutResources.txt" />
    <None Include="Properties\AndroidManifest.xml" />
  </ItemGroup>
  <ItemGroup>
    <AndroidResource Include="Resources\layout\activity_main.axml">
      <SubType>Designer</SubType>
    </AndroidResource>
    <AndroidResource Include="Resources\layout\content_main.axml">
      <SubType>Designer</SubType>
    </AndroidResource>
    <AndroidResource Include="Resources\values\colors.xml" />
    <AndroidResource Include="Resources\values\dimens.xml" />
    <AndroidResource Include="Resources\values\ic_launcher_background.xml" />
    <AndroidResource Include="Resources\values\strings.xml" />
    <AndroidResource Include="Resources\values\styles.xml" />
    <AndroidResource Include="Resources\menu\menu_main.xml" />
    <AndroidResource Include="Resources\mipmap-anydpi-v26\ic_launcher.xml" />
    <AndroidResource Include="Resources\mipmap-anydpi-v26\ic_launcher_round.xml" />
    <AndroidResource Include="Resources\mipmap-hdpi\ic_launcher.png" />
    <AndroidResource Include="Resources\mipmap-hdpi\ic_launcher_foreground.png" />
    <AndroidResource Include="Resources\mipmap-hdpi\ic_launcher_round.png" />
    <AndroidResource Include="Resources\mipmap-mdpi\ic_launcher.png" />
    <AndroidResource Include="Resources\mipmap-mdpi\ic_launcher_foreground.png" />
    <AndroidResource Include="Resources\mipmap-mdpi\ic_launcher_round.png" />
    <AndroidResource Include="Resources\mipmap-xhdpi\ic_launcher.png" />
    <AndroidResource Include="Resources\mipmap-xhdpi\ic_launcher_foreground.png" />
    <AndroidResource Include="Resources\mipmap-xhdpi\ic_launcher_round.png" />
    <AndroidResource Include="Resources\mipmap-xxhdpi\ic_launcher.png" />
    <AndroidResource Include="Resources\mipmap-xxhdpi\ic_launcher_foreground.png" />
    <AndroidResource Include="Resources\mipmap-xxhdpi\ic_launcher_round.png" />
    <AndroidResource Include="Resources\mipmap-xxxhdpi\ic_launcher.png" />
    <AndroidResource Include="Resources\mipmap-xxxhdpi\ic_launcher_foreground.png" />
    <AndroidResource Include="Resources\mipmap-xxxhdpi\ic_launcher_round.png" />
    <AndroidResource Include="Resources\layout\activity_nfc.axml" />
    <AndroidResource Include="Resources\layout\result_activity.axml">
      <SubType></SubType>
      <Generator></Generator>
    </AndroidResource>
  </ItemGroup>
  <ItemGroup>
    <PackageReference Include="Anyline.Xamarin.SDK.Droid" Version="50.0.0" />
    <PackageReference Include="Newtonsoft.Json" Version="13.0.1" />
    <PackageReference Include="Xamarin.AndroidX.AppCompat.Resources" Version="1.1.0.2" />
    <PackageReference Include="Xamarin.AndroidX.Browser" Version="1.3.0.4" />
    <PackageReference Include="Xamarin.AndroidX.Legacy.Support.V4" Version="1.0.0.5" />
    <PackageReference Include="Xamarin.AndroidX.Lifecycle.LiveData" Version="2.3.1" />
    <PackageReference Include="Xamarin.Google.Android.Material" Version="1.3.0.1" />
    <PackageReference Include="Xamarin.Google.MLKit.BarcodeScanning" Version="117.1.0.1" />
    <PackageReference Include="Xamarin.Google.MLKit.FaceDetection" Version="116.1.5.4" />
    <PackageReference Include="Xamarin.Google.Dagger" Version="2.27.0" />
  </ItemGroup>
  <ItemGroup>
    <AndroidResource Include="Resources\values\example_activities.xml">
      <Generator>MSBuild:UpdateGeneratedFiles</Generator>
      <SubType>Designer</SubType>
    </AndroidResource>
  </ItemGroup>
  <ItemGroup>
    <AndroidResource Include="Resources\layout\scan_activity.axml">
      <Generator>MSBuild:UpdateGeneratedFiles</Generator>
      <SubType>Designer</SubType>
    </AndroidResource>
  </ItemGroup>
  <ItemGroup>
    <Folder Include="NFC\" />
    <Folder Include="Assets\" />
  </ItemGroup>
  <ItemGroup>
    <AndroidAsset Include="Assets\analog_digital_meter_config.json" />
    <AndroidAsset Include="Assets\arabic_id_config.json" />
    <AndroidAsset Include="Assets\barcode_config.json" />
    <AndroidAsset Include="Assets\barcode_pdf417_config.json" />
    <AndroidAsset Include="Assets\commercial_tire_id_config.json" />
    <AndroidAsset Include="Assets\composite_parallel_config.json" />
    <AndroidAsset Include="Assets\composite_serial_config.json" />
    <AndroidAsset Include="Assets\container_horizontal_config.json" />
    <AndroidAsset Include="Assets\container_vertical_config.json" />
    <AndroidAsset Include="Assets\cyrillic_id_config.json" />
    <AndroidAsset Include="Assets\license_plate_af_config.json" />
    <AndroidAsset Include="Assets\license_plate_eu_config.json" />
    <AndroidAsset Include="Assets\license_plate_us_config.json" />
    <AndroidAsset Include="Assets\mrz_config.json" />
    <AndroidAsset Include="Assets\serial_number_config.json" />
    <AndroidAsset Include="Assets\tin_config.json" />
    <AndroidAsset Include="Assets\tire_size_config.json" />
    <AndroidAsset Include="Assets\universal_id_config.json" />
    <AndroidAsset Include="Assets\vin_config.json" />
    <AndroidAsset Include="Assets\vrc_config.json" />
    <AndroidAsset Include="Assets\dial_meter_config.json" />
    <AndroidAsset Include="Assets\tire_config_tin_dot.json" />
    <AndroidAsset Include="Assets\composite_parallel_config_first_scan.json" />
    <AndroidAsset Include="Assets\tire_make_config.json" />
  </ItemGroup>
  <Import Project="..\AnylineExamples.Shared\AnylineExamples.Shared.projitems" Label="Shared" />
  <Import Project="$(MSBuildExtensionsPath)\Xamarin\Android\Xamarin.Android.CSharp.targets" />
  
  <Target Name="BeforeBuild" Condition=" '$(RUNNING_ON_CICD)' == 'true' ">
    <XmlPoke XmlInputPath="Properties\AndroidManifest.xml" Namespaces="&lt;Namespace Prefix='android' Uri='http://schemas.android.com/apk/res/android' /&gt;" Query="manifest/@android:versionCode" Value="$(VERSION_CODE_ANDROID)" />
    <XmlPoke XmlInputPath="Properties\AndroidManifest.xml" Namespaces="&lt;Namespace Prefix='android' Uri='http://schemas.android.com/apk/res/android' /&gt;" Query="manifest/@android:versionName" Value="$(ANYLINE_ANDROID_SDK_VERSION)" />
  </Target>
    

  <!-- 
  Starting with Anyline SDK 41, to reduce the final app size
  just add the folowing target to your ".csproj" file and remove the modules not required from the "ModulesToKeep" property.
  please refer to https://documentation.anyline.com/toc/platforms/xamarin/reduce_app_size.html for documentation
  -->
  <Target Name="FilterAnylineAssets" BeforeTargets="_CreateBaseApkWithAapt2">
    <MSBuild Properties="ModulesToKeep=ocr;barcode;document;energy;id;license_plate;tire" Projects="$(MSBuildProjectFile)" Targets="_RemoveAnylineModules" />
  </Target>

  <!-- 
    For Anyline SDK <= 40, use the following target to remove modules that are not required:

    <Target Name="RemoveModules" BeforeTargets="_CreateBaseApkWithAapt2">
      <RemoveDir Directories="$(ProjectDir)obj\$(Configuration)\assets\anyline\module_id" />
      <RemoveDir Directories="$(ProjectDir)obj\$(Configuration)\assets\anyline\module_license_plate" />
      <RemoveDir Directories="$(ProjectDir)obj\$(Configuration)\assets\anyline\module_anyline_ocr" />
      <RemoveDir Directories="$(ProjectDir)obj\$(Configuration)\assets\anyline\module_energy" />
      <RemoveDir Directories="$(ProjectDir)obj\$(Configuration)\assets\anyline\module_document" />
      <RemoveDir Directories="$(ProjectDir)obj\$(Configuration)\assets\anyline\module_barcode" />
    </Target>
  -->


</Project>